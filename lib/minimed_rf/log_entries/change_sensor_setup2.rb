# 523
# 5000bbf9150f0f21011e003c14001e3c25c123b4460021011e003c14001e3c25c123b44500
# 50009fd5170f0f21011e003c14001e3c25c123b4450021011e003c14001e3c25c123b44400
# 31,11/15/15,21:57:59,11/15/15 21:57:59,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetupConfig2,"IS_SENSOR_ENABLED=true, BG_UNITS=mg dl, HIGH_AREA_UNDER_CURVE=180, HIGH_GLUCOSE_SNOOZE_TIME=3600000, LOW_AREA_UNDER_CURVE=69, LOW_GLUCOSE_SNOOZE_TIME=1200000, CAL_REMINDER_ENABLE=true, CAL_REMINDER_TIME=3600000, ALARM_SNOOZE_TIME=1800000, MISSED_DATA_TIME=1800000, IS_AUTO_CAL_ENABLE=false, TRANSMITTER_ID=2474275",15842475086,54149256,86,Paradigm Revel - 523
# 32,11/15/15,21:57:59,11/15/15 21:57:59,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetup2,"NEW_CONFIG_DATUM_ID=15842475086, OLD_CONFIG_DATUM_ID=15842475085, ACTION_REQUESTOR=pump",15842475087,54149256,87,Paradigm Revel - 523
# 33,11/15/15,21:57:59,11/15/15 21:57:59,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetupConfig2,"IS_SENSOR_ENABLED=true, BG_UNITS=mg dl, HIGH_AREA_UNDER_CURVE=180, HIGH_GLUCOSE_SNOOZE_TIME=3600000, LOW_AREA_UNDER_CURVE=70, LOW_GLUCOSE_SNOOZE_TIME=1200000, CAL_REMINDER_ENABLE=true, CAL_REMINDER_TIME=3600000, ALARM_SNOOZE_TIME=1800000, MISSED_DATA_TIME=1800000, IS_AUTO_CAL_ENABLE=false, TRANSMITTER_ID=2474275",15842475085,54149256,85,Paradigm Revel - 523


# 530g - Added low suspend?
# 5000431A02070E21011E003C14001E3C24EF6DB44600803C20011E003C14001E3C24EF6DB44600803C
# 519,4/7/14,02:26:03,4/7/14 02:26:03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetup2,"NEW_CONFIG_DATUM=12753936690, OLD_CONFIG_DATUM=12753936689, ACTION_REQUESTOR=pump",12753936691,53119959,97,MiniMed 530G - 551
# 520,4/7/14,02:26:03,4/7/14 02:26:03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetupConfig2,"IS_SENSOR_ENABLED=false, BG_UNITS=mg dl, HIGH_AREA_UNDER_CURVE=180, HIGH_GLUCOSE_SNOOZE_TIME=3600000, LOW_AREA_UNDER_CURVE=70, LOW_GLUCOSE_SNOOZE_TIME=1200000, CAL_REMINDER_ENABLE=true, CAL_REMINDER_TIME=3600000, ALARM_SNOOZE_TIME=1800000, MISSED_DATA_TIME=1800000, IS_AUTO_CAL_ENABLE=false, IS_LOW_SUSPEND_ENABLE=true, LOW_SUSPEND_LIMIT=60, TRANSMITTER_ID=2420589",12753936690,53119959,96,MiniMed 530G - 551
# 521,4/7/14,02:26:03,4/7/14 02:26:03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChangeSensorSetupConfig2,"IS_SENSOR_ENABLED=true, BG_UNITS=mg dl, HIGH_AREA_UNDER_CURVE=180, HIGH_GLUCOSE_SNOOZE_TIME=3600000, LOW_AREA_UNDER_CURVE=70, LOW_GLUCOSE_SNOOZE_TIME=1200000, CAL_REMINDER_ENABLE=true, CAL_REMINDER_TIME=3600000, ALARM_SNOOZE_TIME=1800000, MISSED_DATA_TIME=1800000, IS_AUTO_CAL_ENABLE=false, IS_LOW_SUSPEND_ENABLE=true, LOW_SUSPEND_LIMIT=60,



module MinimedRF
  module PumpEvents
    class ChangeSensorSetup2 < Base

      def self.event_type_code
        0x50
      end

      def bytesize
        if @pump_model.has_low_suspend
          41
        else
          37
        end
      end

      def to_s
        "ChangeSensorSetup2 #{timestamp_str}"
      end

      def timestamp
        parse_date(2)
      end

    end
  end
end
