
# 12/26/13 07 000000bc da 0d0000006e da 0d050000000000000000bc00301a008c4a0000000000000000008c0000000100000000000000000000000000000000000000
#110 11010 0 0001101
# 12/27/13 07 000000ac db 0d0000006e db 0d050000000000000000ac00301c007c480000000000000000007c0000000100000000000000000000000000000000000000
#110 11011 0 0001101
# 12/28/13 07 00000030 dc 0d0000006e dc 0d05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#110 11100 0 0001101
# 12/29/13 07 00000030 dd 0d0000006e dd 0d05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#110 11101 0 0001101
# 12/30/13 07 00000030 de 0d0000006e de 0d05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#110 11110 0 0001101
# 12/31/13 07 00000030 df 0d0000006e df 0d05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#110 11111 0 0001101
# 1/1/14   07 00000030 01 8e0000006e 01 8e05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#000 00001 1 0001110
# 1/2/14   07 00000030 02 8e0000006e 02 8e05000000000000000030003064000000000000000000000000000000000000000000000000000000000000000000000000
#000 00010 1 0001110
# 1/5/14   07 00000d57 05 8e0005016e 05 8e05011700000900000d570113080c445c02dd047003ec03e80000080201005800000000000000001e580000000000000008
#000 00101 1 0001110
# 1/6/14   07 00000120 06 8e0000006e 06 8e05000000000000000120012064000000000000000000000000000000000000000000000000000000000000000000000000
#000 00110 1 0001110
# 1/7/14   07 00000120 07 8e0000006e 07 8e05000000000000000120012064000000000000000000000000000000000000000000000000000000000000000000000000
#000 00111 1 0001110
# 4/4/14   07 000002be 44 0e0000006e 44 0e0500b69fc505000002be01022501bc3f009c01800014002800000602010000b40e560020280301dcdc0000010000000000
#010 00100 0 0001110

module MinimedRF
  module PumpEvents
    class ResultDailyTotal < Base

      def self.event_type_code
        0x07
      end

      def length
        10
      end

      def to_s
        "ResultDailyTotal #{timestamp_str}"  # TODO: figure out what this contains
      end

      def day
        d(5) & 0b11111
      end

      def month
        ((d(5) >> 4) & 0b1110) + (d(6) >> 7)
      end

      def year
        2000 + (d(6) & 0b1111111)
      end

      def timestamp
        [year, month, day, 0, 0, 0]
      end
    end
  end
end
